<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AegisID | Extraordinary Multidomain Vault</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --neon: #00f2ff; --warn: #ff4444; --bg: #05070a; --panel: #0f172a; }
        body { background: var(--bg); color: #f8fafc; font-family: 'Inter', sans-serif; margin: 0; padding: 20px; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; max-width: 1400px; margin: auto; }
        .card { background: var(--panel); border: 1px solid #1e293b; border-radius: 16px; padding: 24px; transition: 0.3s; }
        
        /* Extraordinary UI: Dynamic Glowing Borders for Alerts */
        .alert-active { border: 2px solid var(--warn); box-shadow: 0 0 15px rgba(255, 68, 68, 0.4); }
        
        .streaming-log { background: #020617; border-radius: 8px; height: 180px; overflow-y: auto; padding: 15px; font-family: 'Fira Code', monospace; font-size: 0.8em; color: var(--neon); border-left: 3px solid var(--neon); }
        .btn-action { background: var(--neon); color: #000; border: none; padding: 14px; border-radius: 8px; font-weight: 800; cursor: pointer; width: 100%; margin-top: 10px; }
        .tag { font-size: 0.7em; background: rgba(0, 242, 255, 0.1); color: var(--neon); padding: 4px 8px; border-radius: 4px; margin-bottom: 8px; display: inline-block; }
    </style>
</head>
<body>

<div class="grid">
    <div class="card" id="main-vault">
        <span class="tag">S3: BLOCKCHAIN + S7: IOT ALERTS</span>
        <h3>Identity Provenance Stream</h3>
        <p>Live on-chain/off-chain communication with automated safety interlocks.</p>
        
        <canvas id="networkChart" height="100"></canvas>
        
        <div class="streaming-log" id="oracleLog">
            > Initializing Secure API Gateway (S2)...<br>
            > Awaiting Network Consensus (S3)...
        </div>
    </div>

    <div class="card" id="security-panel">
        <span class="tag">S6: AI/ML + S1: FINTECH SECURITY</span>
        <h3>Behavioral Sentinel</h3>
        <p>Lightweight inference flow analyzing interaction patterns.</p>
        
        <div style="text-align: center; margin: 20px 0;">
            <div id="trust-ring" style="font-size: 3em; font-weight: 900; color: var(--neon);">98%</div>
            <small>Dynamic Trust Score</small>
        </div>

        <div id="risk-warning" style="display:none; color: var(--warn); font-weight: bold; font-size: 0.8em; margin-bottom: 10px;">
            ⚠️ UNUSUAL INTERACTION PATTERN DETECTED
        </div>

        <button class="btn-action" onclick="generateZKProof()">Generate Privacy Proof</button>
    </div>
</div>

<script>
    // --- DYNAMIC DATA FLOW (S2) ---
    const ctx = document.getElementById('networkChart').getContext('2d');
    const chart = new Chart(ctx, {
        type: 'line',
        data: { labels: [], datasets: [{ data: [], borderColor: '#00f2ff', tension: 0.4, fill: true, backgroundColor: 'rgba(0, 242, 255, 0.05)' }] },
        options: { scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { display: false } } }
    });

    // --- REAL-TIME AUTOMATION RULES (S7) ---
    setInterval(() => {
        const riskFactor = Math.random() * 100;
        const log = document.getElementById('oracleLog');
        const score = document.getElementById('trust-ring');
        const panel = document.getElementById('security-panel');
        const warning = document.getElementById('risk-warning');

        // Update Chart (S2 Data Flow)
        chart.data.labels.push("");
        chart.data.datasets[0].data.push(Math.random() * 50 + 50);
        if (chart.data.labels.length > 20) { chart.data.labels.shift(); chart.data.datasets[0].data.shift(); }
        chart.update('none');

        // Extraordinary: Adaptive Security Logic (S1/S6)
        if (riskFactor > 85) {
            panel.classList.add('alert-active');
            warning.style.display = 'block';
            score.style.color = 'var(--warn)';
            log.innerHTML = `<span style="color:var(--warn)">[ALERT] Suspicious Pattern Detected</span><br>` + log.innerHTML;
        } else {
            panel.classList.remove('alert-active');
            warning.style.display = 'none';
            score.style.color = 'var(--neon)';
            log.innerHTML = `<span>[SYNC] Block Anchored to Mainnet</span><br>` + log.innerHTML;
        }
        
        score.innerText = Math.floor(100 - (riskFactor/5)) + "%";
    }, 3000);

    // --- ZERO-KNOWLEDGE PROOF SIMULATION (S3) ---
    function generateZKProof() {
        const log = document.getElementById('oracleLog');
        log.innerHTML = `<strong>> Generating ZK-Proof (S3 Trustless)...</strong><br>` + log.innerHTML;
        setTimeout(() => {
            alert("Verification Success: You have proven you are a 'Verified Citizen' (S5) without revealing PII.");
        }, 1000);
    }
</script>
</body>
</html>
